# ImageGhosts
Create image ghosts of bright stars

Note that some files in this repository are tracked using git-lfs. To successfully clone and use this repository, you will need git-lfs. See our [Developer Guide](http://developer.lsst.io/en/latest/tools/git_lfs.html) for a explanation of how to set up Git LFS for LSST.

The ghosting data files, in ghost_data, illustrate how the light from a bright star at a given distance from the center of the boresight would scatter into the LSST focal plane. The original .fits files were named Ghost\_X.XX.fits where X.XX indicated the angle from the boresight in degrees, and moved in steps of 0.02 degrees. The translated .txt files multiply X.XX by 50, to give integer steps, resulting in the LSST\_Ghost\_Y.txt filenames. These ghosting data files were generated by Chuck Claver, using LSST Ver 3.3 Baseline Design (and ZMAX), in 2/2013.

The python script `make_ghost_image.py` creates "ghost" images by combining a bright star input catalog, containing stars at various brightnesses and at various distances from the boresight, with the appropriate ghosting (described by the ghost data files). It rotates the ghost data file to match the angle (from 'up') of the star. Basically, for each star, it pulls out the relevant ghost information from one of the ghost data files based on the distance from the boresight center, rotates that ghosting model to match the angle of the star, and then calculates the brightness of the star and its ghosting component in the focal plane. The direct light from the star is removed by default, leaving only the ghost light. This is repeated for all the stars in the catalog (or the brightest `nStars`, if specified). 

The folder `ghost_images` contains examples of some results, using various numbers of stars and a few different pointings.
The `ghost_movie.png` is an example of a single bright star, moving across the focal plane. 

